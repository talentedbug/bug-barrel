<!DOCTYPE html>
<html lang="zh-cn" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>é›†è®­ç¬”è®°ï¼šåŠ¨æ€è§„åˆ’ç»å…¸æ¨¡å‹ 2 | æ¡¶è£…å¹ºè›¾å­</title>
<meta name="keywords" content="">
<meta name="description" content="çŠ¶æ€æ˜¯ï¼Œå•Šï¼Ÿç¦»ç¦»ç¦»ç¦»â€”â€”å“Ÿå“Ÿâ€”â€”
å¯¹åº”æ´›è°·é¢˜å·ï¼š

å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–
çº¿æ€§ DP
ä¾‹é¢˜ï¼šPTA-Little Birdï¼ˆæ´›è°· P3572ï¼‰

è®¾ä¸€åªé¸Ÿåœ¨ç¬¬ $i$ æ£µæ ‘çš„ç–²åŠ³å€¼æ˜¯ $f_{i}$ï¼Œåˆ™ $f[i] = \min{f_{j} &#43; h_{i} \geq h_{j}}$ï¼Œå…¶ä¸­ $i - k \leq j \lt i$ã€‚å½“ $i$ å¢åŠ æ—¶ï¼Œå¯ä»¥å‘ç°æ±‚æœ€å°å€¼çš„éƒ¨åˆ†æ˜¯æœ‰é‡åˆçš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡å»é™¤å†—ä½™éƒ¨åˆ†æ¥ä¼˜åŒ–ã€‚
ä¸Šè¿°å…¬å¼ä¸­ $[i - k,i)$ çš„éƒ¨åˆ†ç±»ä¼¼äºä¸€ä¸ªæ»‘åŠ¨çª—å£ï¼Œæˆ‘ä»¬æ¯æ¬¡åˆ é™¤ä¸åœ¨åŒºé—´å†…çš„éƒ¨åˆ†ï¼Œå¹¶åŠ å…¥æ–°çš„åŒºé—´å†…çš„å…ƒç´ ï¼Œé€šè¿‡ï¼ˆé€’å¢ï¼‰å•è°ƒé˜Ÿåˆ—çš„æ•°æ®ç»“æ„æ¥ç»´æŠ¤æœ€å°å€¼ã€‚

å¦‚æœé˜Ÿå¤´çš„å…ƒç´ ï¼ˆæœ€å°å€¼ï¼‰åœ¨èŒƒå›´å†…ï¼Œæˆ‘ä»¬ç›´æ¥é‡‡ç”¨ï¼›
å¦‚æœé˜Ÿå¤´çš„å…ƒç´ ä¸åœ¨èŒƒå›´å†…ï¼Œæˆ‘ä»¬å°†å…¶åˆ é™¤ï¼›
æ–°çš„å…ƒç´ ä»é˜Ÿå°¾åŠ å…¥ï¼Œå¦‚æœæ¯”é˜Ÿå°¾æ›´ä¼˜ï¼Œåˆ™ä¸€ç›´å°†é˜Ÿå°¾å‡ºé˜Ÿï¼ˆå› ä¸ºæ–°çš„å…ƒç´ åœ¨æ—¶æ•ˆä¸Šæ›´ä¼˜ï¼Œæ—§å…ƒç´ æ²¡æœ‰ä½œç”¨äº†ï¼‰ï¼Œç›´åˆ°å‰æ–¹å…ƒç´ æ¯”æ–°å…ƒç´ æ›´ä¼˜ã€‚

ä»£ç ï¼š

è¦ç‚¹ï¼š

ç¬¬ 19 è¡Œæ‰§è¡Œäº†å‡ºé˜Ÿæ“ä½œï¼›
ç¬¬ 22 è¡Œå¯¹äºé˜Ÿå°¾è´¡çŒ®ä¸€å®šä¸åŠæ–°å…ƒç´ çš„å…ƒç´ è¿›è¡Œäº†å‡ºé˜Ÿï¼Œå¯¹äºè´¡çŒ®ç›¸åŒçš„å…ƒç´ ï¼Œä¾ç„¶è¿›è¡Œäº†å‡ºé˜Ÿï¼Œå› ä¸ºæ–°å…ƒç´ æ—¶æ•ˆæ€§æ›´å¼ºã€‚

å¤šé‡æ¹åŒ…
ä¾‹é¢˜ï¼šBAN-Bank Notesï¼ˆæ´›è°· P3423ï¼‰

å¯¹é¢˜æ„è¿›è¡Œåˆ†æï¼Œå‘ç°ï¼š

æ¹åŒ…å®¹é‡æ˜¯é¢å€¼ $k$ï¼›
ç‰©å“ä½“ç§¯æ˜¯æ¯ç§ç¡¬å¸çš„é¢å€¼ï¼›
ç‰©å“ä»·å€¼å¹¶ä¸æ˜¯é¢å€¼ï¼Œè€Œæ˜¯æ¯ä¸ªç‰©å“éƒ½ä¸º $1$ï¼Œä¸”è¦æ±‚æ€»ä»·å€¼æœ€å°ã€‚

è®¾ DP çŠ¶æ€ $f_{i,j}$ è¡¨ç¤ºç¬¬ $i$ ä¸ªç¡¬å¸ã€æ€»é¢å€¼ä¸º $j$ï¼Œåˆ™æœ‰è½¬ç§»æ–¹ç¨‹ $f_{i}{j} = \max{f_{i - 1,j - k \times w_{i}} &#43; k \times v_{i}}$ ï¼Œå…¶ä¸­ $v_{i}$ åœ¨æœ¬é¢˜ä¸­ä¸º $1$ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º $O(j * \Sigma c_{i})$ã€‚">
<meta name="author" content="æ™ºæ…§çš„å¹ºè›¾å­">
<link rel="canonical" href="http://localhost:1313/posts/976003163f/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.75cc0bc8b7e49d1131c6aa01c8e0ffc243167dd94130253a953494bccdeba2cb.css" integrity="sha256-dcwLyLfknRExxqoByOD/wkMWfdlBMCU6lTSUvM3ross=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.jpg">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon.jpg">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon.jpg">
<link rel="apple-touch-icon" href="http://localhost:1313/favicon.jpg">
<link rel="mask-icon" href="http://localhost:1313/favicon.jpg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh-cn" href="http://localhost:1313/posts/976003163f/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="http://localhost:1313/posts/976003163f/">
  <meta property="og:site_name" content="æ¡¶è£…å¹ºè›¾å­">
  <meta property="og:title" content="é›†è®­ç¬”è®°ï¼šåŠ¨æ€è§„åˆ’ç»å…¸æ¨¡å‹ 2">
  <meta property="og:description" content="çŠ¶æ€æ˜¯ï¼Œå•Šï¼Ÿç¦»ç¦»ç¦»ç¦»â€”â€”å“Ÿå“Ÿâ€”â€”
å¯¹åº”æ´›è°·é¢˜å·ï¼š
å•è°ƒé˜Ÿåˆ—ä¼˜åŒ– çº¿æ€§ DP ä¾‹é¢˜ï¼šPTA-Little Birdï¼ˆæ´›è°· P3572ï¼‰
è®¾ä¸€åªé¸Ÿåœ¨ç¬¬ $i$ æ£µæ ‘çš„ç–²åŠ³å€¼æ˜¯ $f_{i}$ï¼Œåˆ™ $f[i] = \min{f_{j} &#43; h_{i} \geq h_{j}}$ï¼Œå…¶ä¸­ $i - k \leq j \lt i$ã€‚å½“ $i$ å¢åŠ æ—¶ï¼Œå¯ä»¥å‘ç°æ±‚æœ€å°å€¼çš„éƒ¨åˆ†æ˜¯æœ‰é‡åˆçš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡å»é™¤å†—ä½™éƒ¨åˆ†æ¥ä¼˜åŒ–ã€‚
ä¸Šè¿°å…¬å¼ä¸­ $[i - k,i)$ çš„éƒ¨åˆ†ç±»ä¼¼äºä¸€ä¸ªæ»‘åŠ¨çª—å£ï¼Œæˆ‘ä»¬æ¯æ¬¡åˆ é™¤ä¸åœ¨åŒºé—´å†…çš„éƒ¨åˆ†ï¼Œå¹¶åŠ å…¥æ–°çš„åŒºé—´å†…çš„å…ƒç´ ï¼Œé€šè¿‡ï¼ˆé€’å¢ï¼‰å•è°ƒé˜Ÿåˆ—çš„æ•°æ®ç»“æ„æ¥ç»´æŠ¤æœ€å°å€¼ã€‚
å¦‚æœé˜Ÿå¤´çš„å…ƒç´ ï¼ˆæœ€å°å€¼ï¼‰åœ¨èŒƒå›´å†…ï¼Œæˆ‘ä»¬ç›´æ¥é‡‡ç”¨ï¼› å¦‚æœé˜Ÿå¤´çš„å…ƒç´ ä¸åœ¨èŒƒå›´å†…ï¼Œæˆ‘ä»¬å°†å…¶åˆ é™¤ï¼› æ–°çš„å…ƒç´ ä»é˜Ÿå°¾åŠ å…¥ï¼Œå¦‚æœæ¯”é˜Ÿå°¾æ›´ä¼˜ï¼Œåˆ™ä¸€ç›´å°†é˜Ÿå°¾å‡ºé˜Ÿï¼ˆå› ä¸ºæ–°çš„å…ƒç´ åœ¨æ—¶æ•ˆä¸Šæ›´ä¼˜ï¼Œæ—§å…ƒç´ æ²¡æœ‰ä½œç”¨äº†ï¼‰ï¼Œç›´åˆ°å‰æ–¹å…ƒç´ æ¯”æ–°å…ƒç´ æ›´ä¼˜ã€‚ ä»£ç ï¼š
è¦ç‚¹ï¼š
ç¬¬ 19 è¡Œæ‰§è¡Œäº†å‡ºé˜Ÿæ“ä½œï¼› ç¬¬ 22 è¡Œå¯¹äºé˜Ÿå°¾è´¡çŒ®ä¸€å®šä¸åŠæ–°å…ƒç´ çš„å…ƒç´ è¿›è¡Œäº†å‡ºé˜Ÿï¼Œå¯¹äºè´¡çŒ®ç›¸åŒçš„å…ƒç´ ï¼Œä¾ç„¶è¿›è¡Œäº†å‡ºé˜Ÿï¼Œå› ä¸ºæ–°å…ƒç´ æ—¶æ•ˆæ€§æ›´å¼ºã€‚ å¤šé‡æ¹åŒ… ä¾‹é¢˜ï¼šBAN-Bank Notesï¼ˆæ´›è°· P3423ï¼‰
å¯¹é¢˜æ„è¿›è¡Œåˆ†æï¼Œå‘ç°ï¼š
æ¹åŒ…å®¹é‡æ˜¯é¢å€¼ $k$ï¼› ç‰©å“ä½“ç§¯æ˜¯æ¯ç§ç¡¬å¸çš„é¢å€¼ï¼› ç‰©å“ä»·å€¼å¹¶ä¸æ˜¯é¢å€¼ï¼Œè€Œæ˜¯æ¯ä¸ªç‰©å“éƒ½ä¸º $1$ï¼Œä¸”è¦æ±‚æ€»ä»·å€¼æœ€å°ã€‚ è®¾ DP çŠ¶æ€ $f_{i,j}$ è¡¨ç¤ºç¬¬ $i$ ä¸ªç¡¬å¸ã€æ€»é¢å€¼ä¸º $j$ï¼Œåˆ™æœ‰è½¬ç§»æ–¹ç¨‹ $f_{i}{j} = \max{f_{i - 1,j - k \times w_{i}} &#43; k \times v_{i}}$ ï¼Œå…¶ä¸­ $v_{i}$ åœ¨æœ¬é¢˜ä¸­ä¸º $1$ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º $O(j * \Sigma c_{i})$ã€‚">
  <meta property="og:locale" content="zh-cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-11-17T00:00:00+08:00">
    <meta property="article:modified_time" content="2024-11-17T00:00:00+08:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="é›†è®­ç¬”è®°ï¼šåŠ¨æ€è§„åˆ’ç»å…¸æ¨¡å‹ 2">
<meta name="twitter:description" content="çŠ¶æ€æ˜¯ï¼Œå•Šï¼Ÿç¦»ç¦»ç¦»ç¦»â€”â€”å“Ÿå“Ÿâ€”â€”
å¯¹åº”æ´›è°·é¢˜å·ï¼š

å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–
çº¿æ€§ DP
ä¾‹é¢˜ï¼šPTA-Little Birdï¼ˆæ´›è°· P3572ï¼‰

è®¾ä¸€åªé¸Ÿåœ¨ç¬¬ $i$ æ£µæ ‘çš„ç–²åŠ³å€¼æ˜¯ $f_{i}$ï¼Œåˆ™ $f[i] = \min{f_{j} &#43; h_{i} \geq h_{j}}$ï¼Œå…¶ä¸­ $i - k \leq j \lt i$ã€‚å½“ $i$ å¢åŠ æ—¶ï¼Œå¯ä»¥å‘ç°æ±‚æœ€å°å€¼çš„éƒ¨åˆ†æ˜¯æœ‰é‡åˆçš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡å»é™¤å†—ä½™éƒ¨åˆ†æ¥ä¼˜åŒ–ã€‚
ä¸Šè¿°å…¬å¼ä¸­ $[i - k,i)$ çš„éƒ¨åˆ†ç±»ä¼¼äºä¸€ä¸ªæ»‘åŠ¨çª—å£ï¼Œæˆ‘ä»¬æ¯æ¬¡åˆ é™¤ä¸åœ¨åŒºé—´å†…çš„éƒ¨åˆ†ï¼Œå¹¶åŠ å…¥æ–°çš„åŒºé—´å†…çš„å…ƒç´ ï¼Œé€šè¿‡ï¼ˆé€’å¢ï¼‰å•è°ƒé˜Ÿåˆ—çš„æ•°æ®ç»“æ„æ¥ç»´æŠ¤æœ€å°å€¼ã€‚

å¦‚æœé˜Ÿå¤´çš„å…ƒç´ ï¼ˆæœ€å°å€¼ï¼‰åœ¨èŒƒå›´å†…ï¼Œæˆ‘ä»¬ç›´æ¥é‡‡ç”¨ï¼›
å¦‚æœé˜Ÿå¤´çš„å…ƒç´ ä¸åœ¨èŒƒå›´å†…ï¼Œæˆ‘ä»¬å°†å…¶åˆ é™¤ï¼›
æ–°çš„å…ƒç´ ä»é˜Ÿå°¾åŠ å…¥ï¼Œå¦‚æœæ¯”é˜Ÿå°¾æ›´ä¼˜ï¼Œåˆ™ä¸€ç›´å°†é˜Ÿå°¾å‡ºé˜Ÿï¼ˆå› ä¸ºæ–°çš„å…ƒç´ åœ¨æ—¶æ•ˆä¸Šæ›´ä¼˜ï¼Œæ—§å…ƒç´ æ²¡æœ‰ä½œç”¨äº†ï¼‰ï¼Œç›´åˆ°å‰æ–¹å…ƒç´ æ¯”æ–°å…ƒç´ æ›´ä¼˜ã€‚

ä»£ç ï¼š

è¦ç‚¹ï¼š

ç¬¬ 19 è¡Œæ‰§è¡Œäº†å‡ºé˜Ÿæ“ä½œï¼›
ç¬¬ 22 è¡Œå¯¹äºé˜Ÿå°¾è´¡çŒ®ä¸€å®šä¸åŠæ–°å…ƒç´ çš„å…ƒç´ è¿›è¡Œäº†å‡ºé˜Ÿï¼Œå¯¹äºè´¡çŒ®ç›¸åŒçš„å…ƒç´ ï¼Œä¾ç„¶è¿›è¡Œäº†å‡ºé˜Ÿï¼Œå› ä¸ºæ–°å…ƒç´ æ—¶æ•ˆæ€§æ›´å¼ºã€‚

å¤šé‡æ¹åŒ…
ä¾‹é¢˜ï¼šBAN-Bank Notesï¼ˆæ´›è°· P3423ï¼‰

å¯¹é¢˜æ„è¿›è¡Œåˆ†æï¼Œå‘ç°ï¼š

æ¹åŒ…å®¹é‡æ˜¯é¢å€¼ $k$ï¼›
ç‰©å“ä½“ç§¯æ˜¯æ¯ç§ç¡¬å¸çš„é¢å€¼ï¼›
ç‰©å“ä»·å€¼å¹¶ä¸æ˜¯é¢å€¼ï¼Œè€Œæ˜¯æ¯ä¸ªç‰©å“éƒ½ä¸º $1$ï¼Œä¸”è¦æ±‚æ€»ä»·å€¼æœ€å°ã€‚

è®¾ DP çŠ¶æ€ $f_{i,j}$ è¡¨ç¤ºç¬¬ $i$ ä¸ªç¡¬å¸ã€æ€»é¢å€¼ä¸º $j$ï¼Œåˆ™æœ‰è½¬ç§»æ–¹ç¨‹ $f_{i}{j} = \max{f_{i - 1,j - k \times w_{i}} &#43; k \times v_{i}}$ ï¼Œå…¶ä¸­ $v_{i}$ åœ¨æœ¬é¢˜ä¸­ä¸º $1$ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º $O(j * \Sigma c_{i})$ã€‚">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "é›†è®­ç¬”è®°ï¼šåŠ¨æ€è§„åˆ’ç»å…¸æ¨¡å‹ 2",
      "item": "http://localhost:1313/posts/976003163f/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "é›†è®­ç¬”è®°ï¼šåŠ¨æ€è§„åˆ’ç»å…¸æ¨¡å‹ 2",
  "name": "é›†è®­ç¬”è®°ï¼šåŠ¨æ€è§„åˆ’ç»å…¸æ¨¡å‹ 2",
  "description": "çŠ¶æ€æ˜¯ï¼Œå•Šï¼Ÿç¦»ç¦»ç¦»ç¦»â€”â€”å“Ÿå“Ÿâ€”â€”\nå¯¹åº”æ´›è°·é¢˜å·ï¼š\nå•è°ƒé˜Ÿåˆ—ä¼˜åŒ– çº¿æ€§ DP ä¾‹é¢˜ï¼šPTA-Little Birdï¼ˆæ´›è°· P3572ï¼‰\nè®¾ä¸€åªé¸Ÿåœ¨ç¬¬ $i$ æ£µæ ‘çš„ç–²åŠ³å€¼æ˜¯ $f_{i}$ï¼Œåˆ™ $f[i] = \\min{f_{j} + h_{i} \\geq h_{j}}$ï¼Œå…¶ä¸­ $i - k \\leq j \\lt i$ã€‚å½“ $i$ å¢åŠ æ—¶ï¼Œå¯ä»¥å‘ç°æ±‚æœ€å°å€¼çš„éƒ¨åˆ†æ˜¯æœ‰é‡åˆçš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡å»é™¤å†—ä½™éƒ¨åˆ†æ¥ä¼˜åŒ–ã€‚\nä¸Šè¿°å…¬å¼ä¸­ $[i - k,i)$ çš„éƒ¨åˆ†ç±»ä¼¼äºä¸€ä¸ªæ»‘åŠ¨çª—å£ï¼Œæˆ‘ä»¬æ¯æ¬¡åˆ é™¤ä¸åœ¨åŒºé—´å†…çš„éƒ¨åˆ†ï¼Œå¹¶åŠ å…¥æ–°çš„åŒºé—´å†…çš„å…ƒç´ ï¼Œé€šè¿‡ï¼ˆé€’å¢ï¼‰å•è°ƒé˜Ÿåˆ—çš„æ•°æ®ç»“æ„æ¥ç»´æŠ¤æœ€å°å€¼ã€‚\nå¦‚æœé˜Ÿå¤´çš„å…ƒç´ ï¼ˆæœ€å°å€¼ï¼‰åœ¨èŒƒå›´å†…ï¼Œæˆ‘ä»¬ç›´æ¥é‡‡ç”¨ï¼› å¦‚æœé˜Ÿå¤´çš„å…ƒç´ ä¸åœ¨èŒƒå›´å†…ï¼Œæˆ‘ä»¬å°†å…¶åˆ é™¤ï¼› æ–°çš„å…ƒç´ ä»é˜Ÿå°¾åŠ å…¥ï¼Œå¦‚æœæ¯”é˜Ÿå°¾æ›´ä¼˜ï¼Œåˆ™ä¸€ç›´å°†é˜Ÿå°¾å‡ºé˜Ÿï¼ˆå› ä¸ºæ–°çš„å…ƒç´ åœ¨æ—¶æ•ˆä¸Šæ›´ä¼˜ï¼Œæ—§å…ƒç´ æ²¡æœ‰ä½œç”¨äº†ï¼‰ï¼Œç›´åˆ°å‰æ–¹å…ƒç´ æ¯”æ–°å…ƒç´ æ›´ä¼˜ã€‚ ä»£ç ï¼š\nè¦ç‚¹ï¼š\nç¬¬ 19 è¡Œæ‰§è¡Œäº†å‡ºé˜Ÿæ“ä½œï¼› ç¬¬ 22 è¡Œå¯¹äºé˜Ÿå°¾è´¡çŒ®ä¸€å®šä¸åŠæ–°å…ƒç´ çš„å…ƒç´ è¿›è¡Œäº†å‡ºé˜Ÿï¼Œå¯¹äºè´¡çŒ®ç›¸åŒçš„å…ƒç´ ï¼Œä¾ç„¶è¿›è¡Œäº†å‡ºé˜Ÿï¼Œå› ä¸ºæ–°å…ƒç´ æ—¶æ•ˆæ€§æ›´å¼ºã€‚ å¤šé‡æ¹åŒ… ä¾‹é¢˜ï¼šBAN-Bank Notesï¼ˆæ´›è°· P3423ï¼‰\nå¯¹é¢˜æ„è¿›è¡Œåˆ†æï¼Œå‘ç°ï¼š\næ¹åŒ…å®¹é‡æ˜¯é¢å€¼ $k$ï¼› ç‰©å“ä½“ç§¯æ˜¯æ¯ç§ç¡¬å¸çš„é¢å€¼ï¼› ç‰©å“ä»·å€¼å¹¶ä¸æ˜¯é¢å€¼ï¼Œè€Œæ˜¯æ¯ä¸ªç‰©å“éƒ½ä¸º $1$ï¼Œä¸”è¦æ±‚æ€»ä»·å€¼æœ€å°ã€‚ è®¾ DP çŠ¶æ€ $f_{i,j}$ è¡¨ç¤ºç¬¬ $i$ ä¸ªç¡¬å¸ã€æ€»é¢å€¼ä¸º $j$ï¼Œåˆ™æœ‰è½¬ç§»æ–¹ç¨‹ $f_{i}{j} = \\max{f_{i - 1,j - k \\times w_{i}} + k \\times v_{i}}$ ï¼Œå…¶ä¸­ $v_{i}$ åœ¨æœ¬é¢˜ä¸­ä¸º $1$ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º $O(j * \\Sigma c_{i})$ã€‚\n",
  "keywords": [
    
  ],
  "articleBody": "çŠ¶æ€æ˜¯ï¼Œå•Šï¼Ÿç¦»ç¦»ç¦»ç¦»â€”â€”å“Ÿå“Ÿâ€”â€”\nå¯¹åº”æ´›è°·é¢˜å·ï¼š\nå•è°ƒé˜Ÿåˆ—ä¼˜åŒ– çº¿æ€§ DP ä¾‹é¢˜ï¼šPTA-Little Birdï¼ˆæ´›è°· P3572ï¼‰\nè®¾ä¸€åªé¸Ÿåœ¨ç¬¬ $i$ æ£µæ ‘çš„ç–²åŠ³å€¼æ˜¯ $f_{i}$ï¼Œåˆ™ $f[i] = \\min{f_{j} + h_{i} \\geq h_{j}}$ï¼Œå…¶ä¸­ $i - k \\leq j \\lt i$ã€‚å½“ $i$ å¢åŠ æ—¶ï¼Œå¯ä»¥å‘ç°æ±‚æœ€å°å€¼çš„éƒ¨åˆ†æ˜¯æœ‰é‡åˆçš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡å»é™¤å†—ä½™éƒ¨åˆ†æ¥ä¼˜åŒ–ã€‚\nä¸Šè¿°å…¬å¼ä¸­ $[i - k,i)$ çš„éƒ¨åˆ†ç±»ä¼¼äºä¸€ä¸ªæ»‘åŠ¨çª—å£ï¼Œæˆ‘ä»¬æ¯æ¬¡åˆ é™¤ä¸åœ¨åŒºé—´å†…çš„éƒ¨åˆ†ï¼Œå¹¶åŠ å…¥æ–°çš„åŒºé—´å†…çš„å…ƒç´ ï¼Œé€šè¿‡ï¼ˆé€’å¢ï¼‰å•è°ƒé˜Ÿåˆ—çš„æ•°æ®ç»“æ„æ¥ç»´æŠ¤æœ€å°å€¼ã€‚\nå¦‚æœé˜Ÿå¤´çš„å…ƒç´ ï¼ˆæœ€å°å€¼ï¼‰åœ¨èŒƒå›´å†…ï¼Œæˆ‘ä»¬ç›´æ¥é‡‡ç”¨ï¼› å¦‚æœé˜Ÿå¤´çš„å…ƒç´ ä¸åœ¨èŒƒå›´å†…ï¼Œæˆ‘ä»¬å°†å…¶åˆ é™¤ï¼› æ–°çš„å…ƒç´ ä»é˜Ÿå°¾åŠ å…¥ï¼Œå¦‚æœæ¯”é˜Ÿå°¾æ›´ä¼˜ï¼Œåˆ™ä¸€ç›´å°†é˜Ÿå°¾å‡ºé˜Ÿï¼ˆå› ä¸ºæ–°çš„å…ƒç´ åœ¨æ—¶æ•ˆä¸Šæ›´ä¼˜ï¼Œæ—§å…ƒç´ æ²¡æœ‰ä½œç”¨äº†ï¼‰ï¼Œç›´åˆ°å‰æ–¹å…ƒç´ æ¯”æ–°å…ƒç´ æ›´ä¼˜ã€‚ ä»£ç ï¼š\nè¦ç‚¹ï¼š\nç¬¬ 19 è¡Œæ‰§è¡Œäº†å‡ºé˜Ÿæ“ä½œï¼› ç¬¬ 22 è¡Œå¯¹äºé˜Ÿå°¾è´¡çŒ®ä¸€å®šä¸åŠæ–°å…ƒç´ çš„å…ƒç´ è¿›è¡Œäº†å‡ºé˜Ÿï¼Œå¯¹äºè´¡çŒ®ç›¸åŒçš„å…ƒç´ ï¼Œä¾ç„¶è¿›è¡Œäº†å‡ºé˜Ÿï¼Œå› ä¸ºæ–°å…ƒç´ æ—¶æ•ˆæ€§æ›´å¼ºã€‚ å¤šé‡æ¹åŒ… ä¾‹é¢˜ï¼šBAN-Bank Notesï¼ˆæ´›è°· P3423ï¼‰\nå¯¹é¢˜æ„è¿›è¡Œåˆ†æï¼Œå‘ç°ï¼š\næ¹åŒ…å®¹é‡æ˜¯é¢å€¼ $k$ï¼› ç‰©å“ä½“ç§¯æ˜¯æ¯ç§ç¡¬å¸çš„é¢å€¼ï¼› ç‰©å“ä»·å€¼å¹¶ä¸æ˜¯é¢å€¼ï¼Œè€Œæ˜¯æ¯ä¸ªç‰©å“éƒ½ä¸º $1$ï¼Œä¸”è¦æ±‚æ€»ä»·å€¼æœ€å°ã€‚ è®¾ DP çŠ¶æ€ $f_{i,j}$ è¡¨ç¤ºç¬¬ $i$ ä¸ªç¡¬å¸ã€æ€»é¢å€¼ä¸º $j$ï¼Œåˆ™æœ‰è½¬ç§»æ–¹ç¨‹ $f_{i}{j} = \\max{f_{i - 1,j - k \\times w_{i}} + k \\times v_{i}}$ ï¼Œå…¶ä¸­ $v_{i}$ åœ¨æœ¬é¢˜ä¸­ä¸º $1$ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º $O(j * \\Sigma c_{i})$ã€‚\nå€å¢ä¼˜åŒ–ï¼šè¿™ä¸ªè½¬ç§»æ–¹ç¨‹çš„æ—¶é—´å¤æ‚åº¦ç“¶é¢ˆåœ¨äºå¯¹äºæ¯ç§é¢å€¼çš„ç¡¬å¸é€‰å–å¤šå°‘ä¸ªçš„æšä¸¾ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†å…¶è½¬æ¢ä¸ºå€å¢çš„ 01 æ¹åŒ…ï¼Œä¹Ÿå°±æ˜¯å°†å¯ä»¥å–æ— é™ä¸ªçš„ç‰©å“è½¬åŒ–ä¸º $w_{i}, v_{i}$ï¼Œ$2 \\times w_{i}, 2 \\times v_{i}$ï¼Œ$4 \\times w_{i}, 4 \\times v_{i}$ ç­‰ç­‰çš„å•ä¸ªç‰©å“ã€‚å¯¹äºå…·æœ‰è¿ç»­æšä¸¾çš„ DPï¼Œå€å¢ä¼˜åŒ–æ˜¯ä¸€ç§å¸¸è§çš„æ–¹æ³•ã€‚\nå•è°ƒé˜Ÿåˆ—ä¼˜åŒ–ï¼šè€ƒè™‘ $j$ æ—¶çš„å†³ç­–ï¼Œæœ‰è´¡çŒ®çš„å¯èƒ½æ˜¯ $j - b_{i}$ï¼Œ$j - 2 \\times b[i]$ï¼Œ$j - 3 \\times b_{i}$ ç­‰ï¼›$j + b_{i}$ æ—¶ï¼Œåˆ™ä¸º $j$ï¼Œ$j - 1 \\times b_{i}$ï¼Œ$j - 2 \\times b_{i}$ã€‚å› æ­¤å¯ä»¥å‘ç°ï¼Œè¿™é‡Œåˆå‡ºç°äº†é‡å¤è´¡çŒ®çš„è®¡ç®—ï¼Œå› æ­¤æˆ‘ä»¬ä¾ç„¶å¯ä»¥ä½¿ç”¨å•è°ƒé˜Ÿåˆ—è¿›è¡Œä¼˜åŒ–ã€‚\nå‡ºç°æ–°çš„å…ƒç´ æ—¶ï¼Œæˆ‘ä»¬åœ¨åŠ å…¥é˜Ÿåˆ—ä¹‹å‰éœ€è¦å°†é˜Ÿåˆ—ä¸­æ‰€æœ‰çš„å…ƒç´ éƒ½æ·»åŠ  $v_{i}$ï¼Œæ—¶é—´å¤æ‚åº¦è¾ƒé«˜ã€‚ä½†æ˜¯å¯ä»¥å‘ç°ï¼Œåè¿‡æ¥æˆ‘ä»¬å¯ä»¥ç»™æ–°åŠ å…¥çš„å…ƒç´ å¯¹åº”çš„å€¼å‡å» $v_{i}$ï¼Œç„¶ååŠ å…¥å•è°ƒé˜Ÿåˆ—ï¼Œæ—¶é—´å¤æ‚åº¦å¤§å¤§é™ä½ã€‚å…¶ä¸­å¯ä»¥ä½“ç°ã€Œæ­£éš¾åˆ™åã€çš„æ€æƒ³ã€‚\nä»£ç ï¼š\nç½‘æ ¼å›¾ä¸Šçš„ DP åŸå§‹é¢˜å‹ï¼š\nä¾‹é¢˜ï¼šæ–¹æ ¼å–æ•°ï¼ˆæ´›è°· P7074ï¼‰\næœ¬é¢˜çš„ç‰¹æ®Šä¹‹å¤„åœ¨äºï¼Œé€šå¸¸è€Œè¨€ç½‘æ ¼å›¾é—®é¢˜åªèƒ½å‘å³æˆ–å‘ä¸‹ï¼Œä½†æ˜¯æœ¬é¢˜å¯ä»¥å¤šäº†å‘ä¸Šçš„æ–¹å‘ï¼Œå› æ­¤ä¸Šä¸‹çš„ DP çŠ¶æ€æŒ‰ç…§åŸæ¥çš„æ–¹æ³•å°±ç›¸äº’ä¾èµ–ï¼Œä¸å¯è¡Œã€‚\nå› æ­¤è¿™é‡Œæˆ‘ä»¬éœ€è¦æ”¹è¿›æˆ‘ä»¬çš„çŠ¶æ€è®¾è®¡ã€‚åŸæœ¬çš„äºŒç»´ DP ä¹‹å¤–ï¼Œæˆ‘ä»¬é¢å¤–æ·»åŠ ä¸€ä¸ªè¡¨ç¤ºæ–¹å‘çš„ç»´åº¦ï¼Œå³ $f_{x,y,d}$ï¼Œå…¶ä¸­ $d \\in {0, 1, 2}$ï¼Œè¡¨ç¤ºå½“å‰æ ¼å­ä»ä¸‹ã€å·¦æˆ–ä¸Šæ–¹åˆ°è¾¾å½“å‰æ ¼å­çš„æœ€å¤§ç»“æœã€‚å› æ­¤å¯ä»¥å…ˆå¯¹ç¬¬ä¸€åˆ—å¡«å……ï¼ˆåªèƒ½å‘ä¸‹ï¼‰ï¼Œç„¶åå¡«å……å‰©ä½™éƒ¨åˆ†çš„å³ã€ä¸‹æ–¹å‘ï¼Œæœ€åä»ä¸‹å¾€ä¸Šå¡«å……ä¸Šæ–¹çš„å€¼ã€‚\nå¯¹åº”çš„è½¬ç§»æ–¹ç¨‹ä¸ºï¼š\n$f_{i,1,1} = f_{i - 1,1,1} + a_{i,1}$ ä¾‹é¢˜ï¼šPalindromic Pathsï¼ˆæ´›è°· P3126ï¼‰\nå›æ–‡ä¸²å°±è¦æ±‚è·¯å¾„ä¸Šçš„å­—æ¯æ˜¯å¯¹ç§°çš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æšä¸¾æ­¥æ•°å’Œä¸¤ä¸ªå¯¹åº”çš„åº§æ ‡ï¼Œè¿™ 5 ä¸ªå€¼ä¸­æœ‰ 1 ä¸ªå¯ä»¥ç”±å…¶ä»– 4 ä¸ªæ¨å‡ºï¼Œå› æ­¤è®¾è®¡çŠ¶æ€ä¸º $f_{x_{1},y_{1},x_{2},y_{2}}$ æˆ– $f_{step,x_{1},y_{1},x_{2}}$ã€‚å†æ¬¡è€ƒè™‘ï¼Œå¯ä»¥å‘ç°å…¶å®åªéœ€è¦æ¨ªåº§æ ‡å°±å¯ä»¥æ¨å‡ºå½“å‰ä½ç½®ï¼Œå¹¶ä¸”æ­¥æ•°çš„ç»´åº¦å¯ä»¥ç”¨æ»šåŠ¨æ•°ç»„å‹ç¼©ï¼Œå› æ­¤è§„é¿äº†æ•°ç»„è¿‡å¤§æ— æ³•å¼€å‡ºçš„é—®é¢˜ã€‚\nä»£ç ï¼š\nçŠ¶æ€å‹ç¼© DP ä¾‹é¢˜ï¼šPRZï¼ˆæ´›è°· P5911ï¼‰\nå¯¹äºçŠ¶æ€ç»´åº¦å¾ˆå¤šã€ä½†æ˜¯æ¯ä¸ªç»´åº¦çš„ä¿¡æ¯å¾ˆå°‘çš„ DPï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªäºŒè¿›åˆ¶æ•°è¡¨ç¤ºå½“å‰çŠ¶æ€ã€‚åœ¨æœ¬é¢˜ä¸­ï¼Œè®¾ $f_{s}$ ä¸­ $s$ è¡¨ç¤ºå½“å‰å“ªäº›äººå·²ç»è¿‡æ¡¥ï¼Œä¾‹å¦‚ 10001 è¡¨ç¤ºç¬¬ä¸€ä¸ªå’Œç¬¬äº”ä¸ªäººå·²ç»è¿‡æ¡¥ï¼Œå…¶ä»–äººåˆ™æ²¡æœ‰ã€‚\nä»£ç ï¼š\nå…¶ä¸­çŠ¶æ€æšä¸¾çš„éƒ¨åˆ†ï¼Œå…ˆæšä¸¾æ¯ä¸ªæƒ…å†µï¼Œå†å¯¹äºæ¯ä¸ªæƒ…å†µä»å®ƒçš„å­é›†é€’æ¨ã€‚\nä¾‹é¢˜ï¼šCorn Fieldsï¼ˆæ´›è°· P1879ï¼‰\næœ¬é¢˜åœ¨çŠ¶å‹ DP çš„åŸºç¡€ä¸Šï¼Œéœ€è¦æ·»åŠ ä¸€ç»´ï¼Œä½œä¸ºå…¬å…±è¾¹çš„è¡¨ç¤ºã€‚\næ•°ä½ DP ä¾‹é¢˜ï¼šæ•°å­—è®¡æ•°ï¼ˆæ´›è°· P2602ï¼‰\né¦–å…ˆå¯¹äºé¢˜æ„è¿›è¡Œè½¬æ¢ï¼Œç”±äºå·¦å³åŒºé—´çš„è®¡ç®—æ¯”è¾ƒå›°éš¾ï¼Œå¯ä»¥å°†å…¶è½¬åŒ–ä¸º $[1, b]$ ä¸­çš„è®¡æ•°ï¼Œå‡å» $[1, a]$ ä¹‹é—´çš„è®¡æ•°ã€‚\nåœ¨æ•°ä½ DP ä¸­ï¼Œä¸€èˆ¬ä¼šç”±é«˜ä½åˆ°ä½ä½è¿›è¡Œå¤„ç†ã€‚\nè®¾ $f_{i,j}$ è¡¨ç¤º $i$ ä½æ‰€æœ‰ä»¥ $j$ å¼€å¤´çš„æ‰€æœ‰æ•°å­—ä¸­ï¼Œå«æ•°å­— $7$ çš„ä¸ªæ•°ï¼Œé‚£ä¹ˆæœ‰çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š\nå…¶ä¸­ç¬¬äºŒä¸ªè¡¨è¾¾å¼çš„ $10^{i - 1}$ è¡¨ç¤º $7$ å¼€å¤´çš„æ•°å­—ï¼Œæ‰€æœ‰çš„éƒ½åº”å½“è¢«è®¡å…¥ã€‚ä¾‹å¦‚ï¼š\nå…¶ä¸­çš„ $69$ è¡¨ç¤ºï¼Œæ‰€æœ‰ $97$ å¼€å¤´çš„æ•°å­—éƒ½å«æœ‰ $7$ï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸‰ä½çš„è´¡çŒ®ã€‚\næ•°ä½ DP çš„å¥—è·¯åŒ…æ‹¬ï¼š\næŒ‰ä½ç”Ÿæˆ $f$ è¡¨è¾¾å¼ï¼› æŒ‰ä½è®¡ç®—å­˜åœ¨çš„æƒ…å†µï¼Œå¹¶åœ¨é«˜ä½å‡ºç°æƒ…å†µæ—¶æ·»åŠ è´¡çŒ®ã€‚ ä»£ç ï¼š\nç”¨é€’æ¨å®ç°æ•°ä½ DPï¼Œæƒ…å†µçš„åˆ†ç±»æ¯”è¾ƒå¤šï¼Œå› æ­¤å®ç°æ¯”è¾ƒéº»çƒ¦ã€‚é€’å½’çš„æ–¹æ³•ï¼Œéœ€è¦è§£å†³çš„æƒ…å†µå°±å°‘äº†å¾ˆå¤šï¼Œå†™æ³•å¾ˆç®€å•ã€‚\nä»£ç ï¼š\nä¸­é—´æœ‰ä¸€è¡Œæˆªæ–­äº†ï¼Œåé¢æ˜¯ , dã€‚\nå…¶ä¸­å‚æ•°çš„å«ä¹‰åˆ†åˆ«ä¸ºï¼š\ncurï¼šå½“å‰æ˜¯ç¬¬å‡ ä½ï¼› upï¼šå½“å‰ä½ä¹‹å‰çš„æ•°å­—æ˜¯å¦å·²ç»åˆ°è¾¾æœ€å¤§ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸€ä½æ˜¯å¦å¯ä»¥åˆ° 9ï¼Œè¿˜æ˜¯åªèƒ½åˆ°å³è¾¹ç•Œçš„å¯¹åº”å€¼ï¼› sumï¼šç›®å‰å·²çŸ¥çš„æƒ…å†µçš„æ€»å’Œï¼› zeroï¼šæ˜¯å¦æœ‰å‰å¯¼é›¶ï¼› dï¼šæ€»æ•°ä½ã€‚ é¢˜ç›®è®²è§£ Bribing Friendsï¼ˆæ´›è°· P8903ï¼‰ æœ¬é¢˜ä¸­é’±æ•°æ˜¯æ¹åŒ…çš„æ€»å®¹é‡ï¼Œæ¯ä¸ªæœ‹å‹æ‰€éœ€çš„é’±å’Œç”œç­’æ˜¯æ¯ä¸ªç‰©å“çš„ä½“ç§¯ï¼Œè€Œå—æ¬¢è¿ç¨‹åº¦åˆ™æ˜¯ç‰©å“çš„ä»·å€¼ã€‚\nè€ƒè™‘ç¬¬ $i$ ä¸ªæœ‹å‹ï¼Œä½¿ç”¨ $x$ å…ƒé’±å’Œ $y$ ä¸ªç”œç­’æ‰€èƒ½è·å¾—çš„æœ€å¤§ä»·å€¼ï¼Œå³ $f_{i,x,y}$ã€‚ç”±æ­¤å¾ˆå®¹æ˜“æ¨å‡º DP çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œæ—¶é—´å¤æ‚åº¦ $O(n^3)$ã€‚\nå°†æ‰€æœ‰æœ‹å‹æŒ‰æ¯å…ƒé’±æ‰€éœ€ç”œç­’æ’åºï¼Œå¯¹äºè¾ƒå¤§çš„ï¼Œåº”å½“å°½é‡ä½¿ç”¨é’±ï¼›è¾ƒå°çš„ï¼Œåº”å½“å°½é‡ä½¿ç”¨ç”œç­’ã€‚è¿™æ ·å¯ä»¥ä»ä¸¤ä¸ªæ–¹å‘è¿›è¡Œé€’æ¨ï¼Œç„¶åå¾—å‡ºæœ€ç»ˆç»“æœã€‚\nä»£ç ï¼š\n#include #define int long long #define N 2010 using namespace std; int n, a, b; int f[N][N], g[N][N]; struct node { int p, c, x; } cow[N]; bool cmp(node x, node y) { return x.x \u003c y.x; } signed main() { freopen(\"friends.in\", \"r\", stdin); freopen(\"friends.out\", \"w\", stdout); ios::sync_with_stdio(false), cin.tie(0), cout.tie(0); cin \u003e\u003e n \u003e\u003e a \u003e\u003e b; for (int i = 1; i \u003c= n; i++) cin \u003e\u003e cow[i].p \u003e\u003e cow[i].c \u003e\u003e cow[i].x; sort(cow + 1, cow + n + 1, cmp); for (int i = 1; i \u003c= n; i++) { for (int j = 0; j \u003c= b; j++) f[i][j] = f[i - 1][j]; for (int j = 0; j + cow[i].x * cow[i].c \u003c= b; j++) f[i][j + cow[i].x * cow[i].c] = max(f[i - 1][j + cow[i].x * cow[i].c], f[i - 1][j] + cow[i].p); } for (int i = n; i \u003e= 1; i--) { for (int j = 0; j \u003c= a; j++) g[i][j] = g[i + 1][j]; for (int j = 0; j + cow[i].c \u003c= a; j++) g[i][j + cow[i].c] = max(g[i + 1][j + cow[i].c], g[i + 1][j] + cow[i].p); } int ans = 0; for (int i = 1; i \u003c= n; i++) { ans = max(ans, f[i][b] + g[i + 1][a]); ans = max(ans, f[i - 1][b] + g[i][a]); for (int j = 0; j \u003c= min(a, cow[i].c); j++) { if (cow[i].x * (cow[i].c - j) \u003e b) continue; ans = max(ans, f[i - 1][b - cow[i].x * (cow[i].c - j)] + g[i + 1][a - j] + cow[i].p); } } cout \u003c\u003c ans \u003c\u003c '\\n'; return 0; } Bomboniï¼ˆæ´›è°· P9759ï¼‰ è¿™ä¸ªéƒ¨åˆ†æ²¡æœ‰å¤ªå¬æ‡‚â€¦â€¦\nä»£ç ï¼š\n#include #define ll long long #define N 510 #define mod 998244353 using namespace std; int n, K; int a[N][N]; int cnt = 0, fac[N], num[1000010]; int f[N][N][N]; void init(int n, int k) { for (int i = 1; i \u003c= k; i++) { if (k % i == 0) { fac[++cnt] = i; num[i] = cnt; } } fac[++cnt] = k; num[k] = cnt; } ll gcd(ll x, ll y) { return __gcd(x, y); } int main() { freopen(\"candy.in\", \"r\", stdin); freopen(\"candy.out\", \"w\", stdout); ios::sync_with_stdio(false), cin.tie(0), cout.tie(0); cin \u003e\u003e n \u003e\u003e K; memset(a, -1, sizeof a); for (int i = 1; i \u003c= n; i++) for (int j = 1; j \u003c= n; j++) { cin \u003e\u003e a[i][j]; if (a[i][j] != -1) a[i][j] = gcd(a[i][j], K); } init(n, K); f[1][1][num[gcd(a[1][1], K)]] = 1; for (int i = 1; i \u003c= n; i++) { for (int j = 1; j \u003c= n; j++) { if (a[i][j] == -1) continue; for (int k = 1; k \u003c= cnt; k++) { if (!f[i][j][k]) continue; if (a[i + 1][j] != -1 \u0026\u0026 i \u003c n) { int x = gcd(K, 1ll * fac[k] * a[i + 1][j]); f[i + 1][j][num[x]] = (f[i + 1][j][num[x]] + f[i][j][k]); if (f[i + 1][j][num[x]] \u003e= mod) f[i + 1][j][num[x]] -= mod; } if (a[i][j + 1] != -1 \u0026\u0026 j \u003c n) { int x = gcd(K, 1ll * fac[k] * a[i][j + 1]); f[i][j + 1][num[x]] = (f[i][j + 1][num[x]] + f[i][j][k]); if (f[i][j + 1][num[x]] \u003e= mod) f[i][j + 1][num[x]] -= mod; } } } } cout \u003c\u003c f[n][n][cnt] \u003c\u003c '\\n'; return 0; } Redistributing Giftsï¼ˆæ´›è°· P8189ï¼‰ ä»£ç ï¼š\n//é’Ÿè·ºå¸‡DP #include using namespace std; namespace IO{ template inline void write(T x) { if(x \u003c 0) putchar('-') , x = - x; if(x == 0) { putchar('0') ; return ; } if(x \u003e 9) write(x / 10); putchar(x % 10 + '0'); //ç€›æ¥ƒîƒæˆæ¿åš­ return ; } template inline void read(T \u0026x) { x = 0; int w = 1; char ch = getchar(); while (!isdigit(ch)) { if (ch == '-') w = -1; ch = getchar(); } while (isdigit(ch)) x = (x \u003c\u003c 1) + (x \u003c\u003c 3) + (ch ^ 48) , ch = getchar(); x *= w; return ; } } #define writeln(x) write(x) , putchar('\\n') #define writesp(x) write(x) , putchar(' ') using namespace IO; #define For(i, j, k) for(int i = (j); i \u003c= (k); ++i) #define Dec(i, j, k) for(int i = (j); i \u003e= (k); --i) #define mp make_pair #define pii pair #define ppi pair #define ckmax(a, b) ((a) = max((a), (b))) #define ckmin(a, b) ((a) = min((a), (b))) #define pb emplace_back //å§£æ”‘ush_backè¹‡î‚¤å£é”›å±½å§›é‘³æˆ’ç«´é•™å‡¤çº´æ´æ›çœ°ç€¹ç‚µå¹‡ç»‹å¶†æ¹é–å“„åŸ† #define inf 0x3f3f3f3f #define fi first #define se second #define N 20 #define ll long long ll dp[1 \u003c\u003c N][N]; ll ans[1 \u003c\u003c N]; char op[N]; int n, x, g[N]; int main() { freopen(\"gifts.in\", \"r\", stdin); freopen(\"gifts.out\", \"w\", stdout); read(n); For(i, 0, n - 1) { //å§¹ä¿«[i] bool flag = true; For(j, 0, n - 1) { read(x); --x; if (!flag) continue; g[i] ^= (1 \u003c\u003c x);// ç€›æ¡¦åé•“â‚¬é“¾å¤Šã‚¶é—æ²¬é‘³èŠ¥æ•¹ğ«”„æ‰®æ®‘ç»€è‚©å¢¿x if (x == i) flag = false;\t} } ans[0] = 1; for (int k = 0; k \u003c n; ++k) dp[1\u003c",
  "wordCount" : "1890",
  "inLanguage": "zh-cn",
  "datePublished": "2024-11-17T00:00:00+08:00",
  "dateModified": "2024-11-17T00:00:00+08:00",
  "author":{
    "@type": "Person",
    "name": "æ™ºæ…§çš„å¹ºè›¾å­"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/976003163f/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "æ¡¶è£…å¹ºè›¾å­",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.jpg"
    }
  }
}
</script>
</head>

<body class="" id="top"><link rel="stylesheet" href="/js/katex/katex.min.css">
<script defer src="/js/katex/katex.min.js"></script>
<script defer src="/js/katex/contrib/auto-render.js" onload="renderMathInElement(document.body);"></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: '$$', right: '$$', display: true},
                    {left: '$', right: '$', display: false}
                ],
                throwOnError : false
            });
        });
</script>
<script>
    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="ğŸ¥« æ¡¶è£…å¹ºè›¾å­ (Alt + H)">ğŸ¥« æ¡¶è£…å¹ºè›¾å­</a>
            <div class="logo-switches">
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/about" title="â“ å…³äº">
                    <span>â“ å…³äº</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/archives" title="ğŸ“š æ¡£æ¡ˆ">
                    <span>ğŸ“š æ¡£æ¡ˆ</span>
                </a>
            </li>
            <li>
                <a href="https://www.travellings.cn/go.html" title="ğŸš† å¼€å¾€">
                    <span>ğŸš† å¼€å¾€</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;Â»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      é›†è®­ç¬”è®°ï¼šåŠ¨æ€è§„åˆ’ç»å…¸æ¨¡å‹ 2
    </h1>
    <div class="post-meta"><span title='2024-11-17 00:00:00 +0800 CST'>November 17, 2024</span>&nbsp;Â·&nbsp;9 min&nbsp;Â·&nbsp;æ™ºæ…§çš„å¹ºè›¾å­

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">ç›®å½•</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e5%8d%95%e8%b0%83%e9%98%9f%e5%88%97%e4%bc%98%e5%8c%96" aria-label="å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–">å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–</a><ul>
                        
                <li>
                    <a href="#%e7%ba%bf%e6%80%a7-dp" aria-label="çº¿æ€§ DP">çº¿æ€§ DP</a></li>
                <li>
                    <a href="#%e5%a4%9a%e9%87%8d%e6%8f%b9%e5%8c%85" aria-label="å¤šé‡æ¹åŒ…">å¤šé‡æ¹åŒ…</a></li></ul>
                </li>
                <li>
                    <a href="#%e7%bd%91%e6%a0%bc%e5%9b%be%e4%b8%8a%e7%9a%84-dp" aria-label="ç½‘æ ¼å›¾ä¸Šçš„ DP">ç½‘æ ¼å›¾ä¸Šçš„ DP</a></li>
                <li>
                    <a href="#%e7%8a%b6%e6%80%81%e5%8e%8b%e7%bc%a9-dp" aria-label="çŠ¶æ€å‹ç¼© DP">çŠ¶æ€å‹ç¼© DP</a></li>
                <li>
                    <a href="#%e6%95%b0%e4%bd%8d-dp" aria-label="æ•°ä½ DP">æ•°ä½ DP</a></li>
                <li>
                    <a href="#%e9%a2%98%e7%9b%ae%e8%ae%b2%e8%a7%a3" aria-label="é¢˜ç›®è®²è§£">é¢˜ç›®è®²è§£</a><ul>
                        
                <li>
                    <a href="#bribing-friends%e6%b4%9b%e8%b0%b7-p8903" aria-label="Bribing Friendsï¼ˆæ´›è°· P8903ï¼‰">Bribing Friendsï¼ˆæ´›è°· P8903ï¼‰</a></li>
                <li>
                    <a href="#bomboni%e6%b4%9b%e8%b0%b7-p9759" aria-label="Bomboniï¼ˆæ´›è°· P9759ï¼‰">Bomboniï¼ˆæ´›è°· P9759ï¼‰</a></li>
                <li>
                    <a href="#redistributing-gifts%e6%b4%9b%e8%b0%b7-p8189" aria-label="Redistributing Giftsï¼ˆæ´›è°· P8189ï¼‰">Redistributing Giftsï¼ˆæ´›è°· P8189ï¼‰</a></li>
                <li>
                    <a href="#piling-papers%e6%b4%9b%e8%b0%b7-p9129" aria-label="Piling Papersï¼ˆæ´›è°· P9129ï¼‰">Piling Papersï¼ˆæ´›è°· P9129ï¼‰</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p><del>çŠ¶æ€æ˜¯ï¼Œå•Šï¼Ÿç¦»ç¦»ç¦»ç¦»â€”â€”å“Ÿå“Ÿâ€”â€”</del></p>
<p>å¯¹åº”æ´›è°·é¢˜å·ï¼š</p>
<p><img alt="img" loading="lazy" src="../../static/img/976003163f.d/1731832504-image.png"></p>
<h2 id="å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–">å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–<a hidden class="anchor" aria-hidden="true" href="#å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–">#</a></h2>
<h3 id="çº¿æ€§-dp">çº¿æ€§ DP<a hidden class="anchor" aria-hidden="true" href="#çº¿æ€§-dp">#</a></h3>
<p><strong>ä¾‹é¢˜ï¼šPTA-Little Birdï¼ˆæ´›è°· P3572ï¼‰</strong></p>
<p><img alt="img" loading="lazy" src="../../static/img/976003163f.d/1731825461-image.png"></p>
<p>è®¾ä¸€åªé¸Ÿåœ¨ç¬¬ $i$ æ£µæ ‘çš„ç–²åŠ³å€¼æ˜¯ $f_{i}$ï¼Œåˆ™ $f[i] = \min{f_{j} + h_{i} \geq h_{j}}$ï¼Œå…¶ä¸­ $i - k \leq j \lt i$ã€‚å½“ $i$ å¢åŠ æ—¶ï¼Œå¯ä»¥å‘ç°æ±‚æœ€å°å€¼çš„éƒ¨åˆ†æ˜¯æœ‰é‡åˆçš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡å»é™¤å†—ä½™éƒ¨åˆ†æ¥ä¼˜åŒ–ã€‚</p>
<p>ä¸Šè¿°å…¬å¼ä¸­ $[i - k,i)$ çš„éƒ¨åˆ†ç±»ä¼¼äºä¸€ä¸ªæ»‘åŠ¨çª—å£ï¼Œæˆ‘ä»¬æ¯æ¬¡åˆ é™¤ä¸åœ¨åŒºé—´å†…çš„éƒ¨åˆ†ï¼Œå¹¶åŠ å…¥æ–°çš„åŒºé—´å†…çš„å…ƒç´ ï¼Œé€šè¿‡ï¼ˆé€’å¢ï¼‰å•è°ƒé˜Ÿåˆ—çš„æ•°æ®ç»“æ„æ¥ç»´æŠ¤æœ€å°å€¼ã€‚</p>
<ul>
<li>å¦‚æœé˜Ÿå¤´çš„å…ƒç´ ï¼ˆæœ€å°å€¼ï¼‰åœ¨èŒƒå›´å†…ï¼Œæˆ‘ä»¬ç›´æ¥é‡‡ç”¨ï¼›</li>
<li>å¦‚æœé˜Ÿå¤´çš„å…ƒç´ ä¸åœ¨èŒƒå›´å†…ï¼Œæˆ‘ä»¬å°†å…¶åˆ é™¤ï¼›</li>
<li>æ–°çš„å…ƒç´ ä»é˜Ÿå°¾åŠ å…¥ï¼Œå¦‚æœæ¯”é˜Ÿå°¾æ›´ä¼˜ï¼Œåˆ™ä¸€ç›´å°†é˜Ÿå°¾å‡ºé˜Ÿï¼ˆå› ä¸ºæ–°çš„å…ƒç´ åœ¨æ—¶æ•ˆä¸Šæ›´ä¼˜ï¼Œæ—§å…ƒç´ æ²¡æœ‰ä½œç”¨äº†ï¼‰ï¼Œç›´åˆ°å‰æ–¹å…ƒç´ æ¯”æ–°å…ƒç´ æ›´ä¼˜ã€‚</li>
</ul>
<p>ä»£ç ï¼š</p>
<p><img alt="img" loading="lazy" src="../../static/img/976003163f.d/1731826445-image-1024x447.png"></p>
<p>è¦ç‚¹ï¼š</p>
<ul>
<li>ç¬¬ 19 è¡Œæ‰§è¡Œäº†å‡ºé˜Ÿæ“ä½œï¼›</li>
<li>ç¬¬ 22 è¡Œå¯¹äºé˜Ÿå°¾è´¡çŒ®ä¸€å®šä¸åŠæ–°å…ƒç´ çš„å…ƒç´ è¿›è¡Œäº†å‡ºé˜Ÿï¼Œå¯¹äºè´¡çŒ®ç›¸åŒçš„å…ƒç´ ï¼Œä¾ç„¶è¿›è¡Œäº†å‡ºé˜Ÿï¼Œå› ä¸ºæ–°å…ƒç´ æ—¶æ•ˆæ€§æ›´å¼ºã€‚</li>
</ul>
<h3 id="å¤šé‡æ¹åŒ…">å¤šé‡æ¹åŒ…<a hidden class="anchor" aria-hidden="true" href="#å¤šé‡æ¹åŒ…">#</a></h3>
<p><strong>ä¾‹é¢˜ï¼šBAN-Bank Notesï¼ˆæ´›è°· P3423ï¼‰</strong></p>
<p><img alt="img" loading="lazy" src="../../static/img/976003163f.d/1731826730-image.png"></p>
<p>å¯¹é¢˜æ„è¿›è¡Œåˆ†æï¼Œå‘ç°ï¼š</p>
<ul>
<li>æ¹åŒ…å®¹é‡æ˜¯é¢å€¼ $k$ï¼›</li>
<li>ç‰©å“ä½“ç§¯æ˜¯æ¯ç§ç¡¬å¸çš„é¢å€¼ï¼›</li>
<li>ç‰©å“ä»·å€¼å¹¶ä¸æ˜¯é¢å€¼ï¼Œè€Œæ˜¯æ¯ä¸ªç‰©å“éƒ½ä¸º $1$ï¼Œä¸”è¦æ±‚æ€»ä»·å€¼æœ€å°ã€‚</li>
</ul>
<p>è®¾ DP çŠ¶æ€ $f_{i,j}$ è¡¨ç¤ºç¬¬ $i$ ä¸ªç¡¬å¸ã€æ€»é¢å€¼ä¸º $j$ï¼Œåˆ™æœ‰è½¬ç§»æ–¹ç¨‹ $f_{i}{j} = \max{f_{i - 1,j - k \times w_{i}} + k \times v_{i}}$ ï¼Œå…¶ä¸­ $v_{i}$ åœ¨æœ¬é¢˜ä¸­ä¸º $1$ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º $O(j * \Sigma c_{i})$ã€‚</p>
<p><strong>å€å¢ä¼˜åŒ–</strong>ï¼šè¿™ä¸ªè½¬ç§»æ–¹ç¨‹çš„æ—¶é—´å¤æ‚åº¦ç“¶é¢ˆåœ¨äºå¯¹äºæ¯ç§é¢å€¼çš„ç¡¬å¸é€‰å–å¤šå°‘ä¸ªçš„æšä¸¾ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†å…¶è½¬æ¢ä¸ºå€å¢çš„ 01 æ¹åŒ…ï¼Œä¹Ÿå°±æ˜¯å°†å¯ä»¥å–æ— é™ä¸ªçš„ç‰©å“è½¬åŒ–ä¸º $w_{i}, v_{i}$ï¼Œ$2 \times w_{i}, 2 \times v_{i}$ï¼Œ$4 \times w_{i}, 4 \times v_{i}$ ç­‰ç­‰çš„å•ä¸ªç‰©å“ã€‚å¯¹äºå…·æœ‰è¿ç»­æšä¸¾çš„ DPï¼Œå€å¢ä¼˜åŒ–æ˜¯ä¸€ç§å¸¸è§çš„æ–¹æ³•ã€‚</p>
<p><strong>å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–</strong>ï¼šè€ƒè™‘ $j$ æ—¶çš„å†³ç­–ï¼Œæœ‰è´¡çŒ®çš„å¯èƒ½æ˜¯ $j - b_{i}$ï¼Œ$j - 2 \times b[i]$ï¼Œ$j - 3 \times b_{i}$ ç­‰ï¼›$j + b_{i}$ æ—¶ï¼Œåˆ™ä¸º $j$ï¼Œ$j - 1 \times b_{i}$ï¼Œ$j - 2 \times b_{i}$ã€‚å› æ­¤å¯ä»¥å‘ç°ï¼Œè¿™é‡Œåˆå‡ºç°äº†é‡å¤è´¡çŒ®çš„è®¡ç®—ï¼Œå› æ­¤æˆ‘ä»¬ä¾ç„¶å¯ä»¥ä½¿ç”¨å•è°ƒé˜Ÿåˆ—è¿›è¡Œä¼˜åŒ–ã€‚</p>
<p>å‡ºç°æ–°çš„å…ƒç´ æ—¶ï¼Œæˆ‘ä»¬åœ¨åŠ å…¥é˜Ÿåˆ—ä¹‹å‰éœ€è¦å°†é˜Ÿåˆ—ä¸­æ‰€æœ‰çš„å…ƒç´ éƒ½æ·»åŠ  $v_{i}$ï¼Œæ—¶é—´å¤æ‚åº¦è¾ƒé«˜ã€‚ä½†æ˜¯å¯ä»¥å‘ç°ï¼Œåè¿‡æ¥æˆ‘ä»¬å¯ä»¥ç»™æ–°åŠ å…¥çš„å…ƒç´ å¯¹åº”çš„å€¼å‡å» $v_{i}$ï¼Œç„¶ååŠ å…¥å•è°ƒé˜Ÿåˆ—ï¼Œæ—¶é—´å¤æ‚åº¦å¤§å¤§é™ä½ã€‚å…¶ä¸­å¯ä»¥ä½“ç°ã€Œæ­£éš¾åˆ™åã€çš„æ€æƒ³ã€‚</p>
<p>ä»£ç ï¼š</p>
<p><img alt="img" loading="lazy" src="../../static/img/976003163f.d/1731828177-image-1024x430.png"></p>
<h2 id="ç½‘æ ¼å›¾ä¸Šçš„-dp">ç½‘æ ¼å›¾ä¸Šçš„ DP<a hidden class="anchor" aria-hidden="true" href="#ç½‘æ ¼å›¾ä¸Šçš„-dp">#</a></h2>
<p>åŸå§‹é¢˜å‹ï¼š</p>
<p><img alt="img" loading="lazy" src="../../static/img/976003163f.d/1731828232-image-1024x489.png"></p>
<p><strong>ä¾‹é¢˜ï¼šæ–¹æ ¼å–æ•°ï¼ˆæ´›è°· P7074ï¼‰</strong></p>
<p><img alt="img" loading="lazy" src="../../static/img/976003163f.d/1731828284-image.png"></p>
<p>æœ¬é¢˜çš„ç‰¹æ®Šä¹‹å¤„åœ¨äºï¼Œé€šå¸¸è€Œè¨€ç½‘æ ¼å›¾é—®é¢˜åªèƒ½å‘å³æˆ–å‘ä¸‹ï¼Œä½†æ˜¯æœ¬é¢˜å¯ä»¥å¤šäº†å‘ä¸Šçš„æ–¹å‘ï¼Œå› æ­¤ä¸Šä¸‹çš„ DP çŠ¶æ€æŒ‰ç…§åŸæ¥çš„æ–¹æ³•å°±ç›¸äº’ä¾èµ–ï¼Œä¸å¯è¡Œã€‚</p>
<p>å› æ­¤è¿™é‡Œæˆ‘ä»¬éœ€è¦æ”¹è¿›æˆ‘ä»¬çš„çŠ¶æ€è®¾è®¡ã€‚åŸæœ¬çš„äºŒç»´ DP ä¹‹å¤–ï¼Œæˆ‘ä»¬é¢å¤–æ·»åŠ ä¸€ä¸ªè¡¨ç¤ºæ–¹å‘çš„ç»´åº¦ï¼Œå³ $f_{x,y,d}$ï¼Œå…¶ä¸­ $d \in {0, 1, 2}$ï¼Œè¡¨ç¤ºå½“å‰æ ¼å­ä»ä¸‹ã€å·¦æˆ–ä¸Šæ–¹åˆ°è¾¾å½“å‰æ ¼å­çš„æœ€å¤§ç»“æœã€‚å› æ­¤å¯ä»¥å…ˆå¯¹ç¬¬ä¸€åˆ—å¡«å……ï¼ˆåªèƒ½å‘ä¸‹ï¼‰ï¼Œç„¶åå¡«å……å‰©ä½™éƒ¨åˆ†çš„å³ã€ä¸‹æ–¹å‘ï¼Œæœ€åä»ä¸‹å¾€ä¸Šå¡«å……ä¸Šæ–¹çš„å€¼ã€‚</p>
<p>å¯¹åº”çš„è½¬ç§»æ–¹ç¨‹ä¸ºï¼š</p>
<ul>
<li>$f_{i,1,1} = f_{i - 1,1,1} + a_{i,1}$</li>
<li><img alt="img" loading="lazy" src="../../static/img/976003163f.d/1731829200-image.png"></li>
</ul>
<p><strong>ä¾‹é¢˜ï¼šPalindromic Pathsï¼ˆæ´›è°· P3126ï¼‰</strong></p>
<p><img alt="img" loading="lazy" src="../../static/img/976003163f.d/1731829302-image.png"></p>
<p>å›æ–‡ä¸²å°±è¦æ±‚è·¯å¾„ä¸Šçš„å­—æ¯æ˜¯å¯¹ç§°çš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æšä¸¾æ­¥æ•°å’Œä¸¤ä¸ªå¯¹åº”çš„åº§æ ‡ï¼Œè¿™ 5 ä¸ªå€¼ä¸­æœ‰ 1 ä¸ªå¯ä»¥ç”±å…¶ä»– 4 ä¸ªæ¨å‡ºï¼Œå› æ­¤è®¾è®¡çŠ¶æ€ä¸º $f_{x_{1},y_{1},x_{2},y_{2}}$ æˆ– $f_{step,x_{1},y_{1},x_{2}}$ã€‚å†æ¬¡è€ƒè™‘ï¼Œå¯ä»¥å‘ç°å…¶å®åªéœ€è¦æ¨ªåº§æ ‡å°±å¯ä»¥æ¨å‡ºå½“å‰ä½ç½®ï¼Œå¹¶ä¸”æ­¥æ•°çš„ç»´åº¦å¯ä»¥ç”¨æ»šåŠ¨æ•°ç»„å‹ç¼©ï¼Œå› æ­¤è§„é¿äº†æ•°ç»„è¿‡å¤§æ— æ³•å¼€å‡ºçš„é—®é¢˜ã€‚</p>
<p>ä»£ç ï¼š</p>
<p><img alt="img" loading="lazy" src="../../static/img/976003163f.d/1731829587-image-1024x285.png"></p>
<h2 id="çŠ¶æ€å‹ç¼©-dp">çŠ¶æ€å‹ç¼© DP<a hidden class="anchor" aria-hidden="true" href="#çŠ¶æ€å‹ç¼©-dp">#</a></h2>
<p><strong>ä¾‹é¢˜ï¼šPRZï¼ˆæ´›è°· P5911ï¼‰</strong></p>
<p><img alt="img" loading="lazy" src="../../static/img/976003163f.d/1731829823-image.png"></p>
<p>å¯¹äºçŠ¶æ€ç»´åº¦å¾ˆå¤šã€ä½†æ˜¯æ¯ä¸ªç»´åº¦çš„ä¿¡æ¯å¾ˆå°‘çš„ DPï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªäºŒè¿›åˆ¶æ•°è¡¨ç¤ºå½“å‰çŠ¶æ€ã€‚åœ¨æœ¬é¢˜ä¸­ï¼Œè®¾ $f_{s}$ ä¸­ $s$ è¡¨ç¤ºå½“å‰å“ªäº›äººå·²ç»è¿‡æ¡¥ï¼Œä¾‹å¦‚ <code>10001</code> è¡¨ç¤ºç¬¬ä¸€ä¸ªå’Œç¬¬äº”ä¸ªäººå·²ç»è¿‡æ¡¥ï¼Œå…¶ä»–äººåˆ™æ²¡æœ‰ã€‚</p>
<p>ä»£ç ï¼š</p>
<p><img alt="img" loading="lazy" src="../../static/img/976003163f.d/1731830594-image.png"></p>
<p>å…¶ä¸­çŠ¶æ€æšä¸¾çš„éƒ¨åˆ†ï¼Œå…ˆæšä¸¾æ¯ä¸ªæƒ…å†µï¼Œå†å¯¹äºæ¯ä¸ªæƒ…å†µä»å®ƒçš„å­é›†é€’æ¨ã€‚</p>
<p><strong>ä¾‹é¢˜ï¼šCorn Fieldsï¼ˆæ´›è°· P1879ï¼‰</strong></p>
<p><img alt="img" loading="lazy" src="../../static/img/976003163f.d/1731830765-image.png"></p>
<p>æœ¬é¢˜åœ¨çŠ¶å‹ DP çš„åŸºç¡€ä¸Šï¼Œéœ€è¦æ·»åŠ ä¸€ç»´ï¼Œä½œä¸ºå…¬å…±è¾¹çš„è¡¨ç¤ºã€‚</p>
<h2 id="æ•°ä½-dp">æ•°ä½ DP<a hidden class="anchor" aria-hidden="true" href="#æ•°ä½-dp">#</a></h2>
<p><strong>ä¾‹é¢˜ï¼šæ•°å­—è®¡æ•°ï¼ˆæ´›è°· P2602ï¼‰</strong></p>
<p><img alt="img" loading="lazy" src="../../static/img/976003163f.d/1731830910-image.png"></p>
<p>é¦–å…ˆå¯¹äºé¢˜æ„è¿›è¡Œè½¬æ¢ï¼Œç”±äºå·¦å³åŒºé—´çš„è®¡ç®—æ¯”è¾ƒå›°éš¾ï¼Œå¯ä»¥å°†å…¶è½¬åŒ–ä¸º $[1, b]$ ä¸­çš„è®¡æ•°ï¼Œå‡å» $[1, a]$ ä¹‹é—´çš„è®¡æ•°ã€‚</p>
<p>åœ¨æ•°ä½ DP ä¸­ï¼Œä¸€èˆ¬ä¼šç”±é«˜ä½åˆ°ä½ä½è¿›è¡Œå¤„ç†ã€‚</p>
<p><img alt="img" loading="lazy" src="../../static/img/976003163f.d/1731831127-image-1024x161.png"></p>
<p>è®¾ $f_{i,j}$ è¡¨ç¤º $i$ ä½æ‰€æœ‰ä»¥ $j$ å¼€å¤´çš„æ‰€æœ‰æ•°å­—ä¸­ï¼Œå«æ•°å­— $7$ çš„ä¸ªæ•°ï¼Œé‚£ä¹ˆæœ‰çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</p>
<p><img alt="img" loading="lazy" src="../../static/img/976003163f.d/1731831187-image-1024x94.png"></p>
<p>å…¶ä¸­ç¬¬äºŒä¸ªè¡¨è¾¾å¼çš„ $10^{i - 1}$ è¡¨ç¤º $7$ å¼€å¤´çš„æ•°å­—ï¼Œæ‰€æœ‰çš„éƒ½åº”å½“è¢«è®¡å…¥ã€‚ä¾‹å¦‚ï¼š</p>
<p><img alt="img" loading="lazy" src="../../static/img/976003163f.d/1731831288-image-1024x537.png"></p>
<p>å…¶ä¸­çš„ $69$ è¡¨ç¤ºï¼Œæ‰€æœ‰ $97$ å¼€å¤´çš„æ•°å­—éƒ½å«æœ‰ $7$ï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸‰ä½çš„è´¡çŒ®ã€‚</p>
<p>æ•°ä½ DP çš„å¥—è·¯åŒ…æ‹¬ï¼š</p>
<ul>
<li>æŒ‰ä½ç”Ÿæˆ $f$ è¡¨è¾¾å¼ï¼›</li>
<li>æŒ‰ä½è®¡ç®—å­˜åœ¨çš„æƒ…å†µï¼Œå¹¶åœ¨é«˜ä½å‡ºç°æƒ…å†µæ—¶æ·»åŠ è´¡çŒ®ã€‚</li>
</ul>
<p>ä»£ç ï¼š</p>
<p><img alt="img" loading="lazy" src="../../static/img/976003163f.d/1731831521-image.png"></p>
<p><img alt="img" loading="lazy" src="../../static/img/976003163f.d/1731831723-image.png"></p>
<p><img alt="img" loading="lazy" src="../../static/img/976003163f.d/1731831486-image.png"></p>
<p>ç”¨é€’æ¨å®ç°æ•°ä½ DPï¼Œæƒ…å†µçš„åˆ†ç±»æ¯”è¾ƒå¤šï¼Œå› æ­¤å®ç°æ¯”è¾ƒéº»çƒ¦ã€‚é€’å½’çš„æ–¹æ³•ï¼Œéœ€è¦è§£å†³çš„æƒ…å†µå°±å°‘äº†å¾ˆå¤šï¼Œå†™æ³•å¾ˆç®€å•ã€‚</p>
<p>ä»£ç ï¼š</p>
<p><img alt="img" loading="lazy" src="../../static/img/976003163f.d/1731831948-image-1024x218.png"></p>
<p>ä¸­é—´æœ‰ä¸€è¡Œæˆªæ–­äº†ï¼Œåé¢æ˜¯ <code>, d</code>ã€‚</p>
<p>å…¶ä¸­å‚æ•°çš„å«ä¹‰åˆ†åˆ«ä¸ºï¼š</p>
<ul>
<li><code>cur</code>ï¼šå½“å‰æ˜¯ç¬¬å‡ ä½ï¼›</li>
<li><code>up</code>ï¼šå½“å‰ä½ä¹‹å‰çš„æ•°å­—æ˜¯å¦å·²ç»åˆ°è¾¾æœ€å¤§ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸€ä½æ˜¯å¦å¯ä»¥åˆ° 9ï¼Œè¿˜æ˜¯åªèƒ½åˆ°å³è¾¹ç•Œçš„å¯¹åº”å€¼ï¼›</li>
<li><code>sum</code>ï¼šç›®å‰å·²çŸ¥çš„æƒ…å†µçš„æ€»å’Œï¼›</li>
<li><code>zero</code>ï¼šæ˜¯å¦æœ‰å‰å¯¼é›¶ï¼›</li>
<li><code>d</code>ï¼šæ€»æ•°ä½ã€‚</li>
</ul>
<h2 id="é¢˜ç›®è®²è§£">é¢˜ç›®è®²è§£<a hidden class="anchor" aria-hidden="true" href="#é¢˜ç›®è®²è§£">#</a></h2>
<h3 id="bribing-friendsæ´›è°·-p8903">Bribing Friendsï¼ˆæ´›è°· P8903ï¼‰<a hidden class="anchor" aria-hidden="true" href="#bribing-friendsæ´›è°·-p8903">#</a></h3>
<p>æœ¬é¢˜ä¸­é’±æ•°æ˜¯æ¹åŒ…çš„æ€»å®¹é‡ï¼Œæ¯ä¸ªæœ‹å‹æ‰€éœ€çš„é’±å’Œç”œç­’æ˜¯æ¯ä¸ªç‰©å“çš„ä½“ç§¯ï¼Œè€Œå—æ¬¢è¿ç¨‹åº¦åˆ™æ˜¯ç‰©å“çš„ä»·å€¼ã€‚</p>
<p>è€ƒè™‘ç¬¬ $i$ ä¸ªæœ‹å‹ï¼Œä½¿ç”¨ $x$ å…ƒé’±å’Œ $y$ ä¸ªç”œç­’æ‰€èƒ½è·å¾—çš„æœ€å¤§ä»·å€¼ï¼Œå³ $f_{i,x,y}$ã€‚ç”±æ­¤å¾ˆå®¹æ˜“æ¨å‡º DP çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œæ—¶é—´å¤æ‚åº¦ $O(n^3)$ã€‚</p>
<p>å°†æ‰€æœ‰æœ‹å‹æŒ‰æ¯å…ƒé’±æ‰€éœ€ç”œç­’æ’åºï¼Œå¯¹äºè¾ƒå¤§çš„ï¼Œåº”å½“å°½é‡ä½¿ç”¨é’±ï¼›è¾ƒå°çš„ï¼Œåº”å½“å°½é‡ä½¿ç”¨ç”œç­’ã€‚è¿™æ ·å¯ä»¥ä»ä¸¤ä¸ªæ–¹å‘è¿›è¡Œé€’æ¨ï¼Œç„¶åå¾—å‡ºæœ€ç»ˆç»“æœã€‚</p>
<p>ä»£ç ï¼š</p>
<pre tabindex="0"><code>#include &lt;bits/stdc++.h&gt;
#define int long long
#define N 2010
using namespace std;

int n, a, b;
int f[N][N], g[N][N];
struct node { int p, c, x; } cow[N];
bool cmp(node x, node y) { return x.x &lt; y.x; }

signed main() {
    freopen(&#34;friends.in&#34;, &#34;r&#34;, stdin);
    freopen(&#34;friends.out&#34;, &#34;w&#34;, stdout);
    ios::sync_with_stdio(false), cin.tie(0), cout.tie(0);
    cin &gt;&gt; n &gt;&gt; a &gt;&gt; b;
    for (int i = 1; i &lt;= n; i++) 
        cin &gt;&gt; cow[i].p &gt;&gt; cow[i].c &gt;&gt; cow[i].x;
    sort(cow + 1, cow + n + 1, cmp);
    for (int i = 1; i &lt;= n; i++) {
        for (int j = 0; j &lt;= b; j++) f[i][j] = f[i - 1][j];
        for (int j = 0; j + cow[i].x * cow[i].c &lt;= b; j++) 
            f[i][j + cow[i].x * cow[i].c] = max(f[i - 1][j + cow[i].x * cow[i].c], f[i - 1][j] + cow[i].p); 
    }
    for (int i = n; i &gt;= 1; i--) {
        for (int j = 0; j &lt;= a; j++) g[i][j] = g[i + 1][j];
        for (int j = 0; j + cow[i].c &lt;= a; j++) 
            g[i][j + cow[i].c] = max(g[i + 1][j + cow[i].c], g[i + 1][j] + cow[i].p);
    }
    int ans = 0;
    for (int i = 1; i &lt;= n; i++) {
        ans = max(ans, f[i][b] + g[i + 1][a]);
        ans = max(ans, f[i - 1][b] + g[i][a]);
        for (int j = 0; j &lt;= min(a, cow[i].c); j++) {
            if (cow[i].x * (cow[i].c - j) &gt; b) continue;
            ans = max(ans, f[i - 1][b - cow[i].x * (cow[i].c - j)] + g[i + 1][a - j] + cow[i].p);
        }
    }
    cout &lt;&lt; ans &lt;&lt; &#39;\n&#39;;
    return 0;
}
</code></pre><h3 id="bomboniæ´›è°·-p9759">Bomboniï¼ˆæ´›è°· P9759ï¼‰<a hidden class="anchor" aria-hidden="true" href="#bomboniæ´›è°·-p9759">#</a></h3>
<p>è¿™ä¸ªéƒ¨åˆ†æ²¡æœ‰å¤ªå¬æ‡‚â€¦â€¦</p>
<p>ä»£ç ï¼š</p>
<pre tabindex="0"><code>#include &lt;bits/stdc++.h&gt;
#define ll long long
#define N 510
#define mod 998244353
using namespace std;

int n, K;
int a[N][N];
int cnt = 0, fac[N], num[1000010];
int f[N][N][N];

void init(int n, int k) {
    for (int i = 1; i &lt;= k; i++) {
        if (k % i == 0) {
            fac[++cnt] = i;
            num[i] = cnt;
        }
    }
    fac[++cnt] = k;
    num[k] = cnt;
}

ll gcd(ll x, ll y) { return __gcd(x, y); }

int main() {
    freopen(&#34;candy.in&#34;, &#34;r&#34;, stdin);
    freopen(&#34;candy.out&#34;, &#34;w&#34;, stdout);
    ios::sync_with_stdio(false), cin.tie(0), cout.tie(0);
    cin &gt;&gt; n &gt;&gt; K;
    memset(a, -1, sizeof a);
    for (int i = 1; i &lt;= n; i++)
        for (int j = 1; j &lt;= n; j++) {
            cin &gt;&gt; a[i][j];
            if (a[i][j] != -1) a[i][j] = gcd(a[i][j], K);
        }
    init(n, K);
    f[1][1][num[gcd(a[1][1], K)]] = 1;
    for (int i = 1; i &lt;= n; i++) {
        for (int j = 1; j &lt;= n; j++) {
            if (a[i][j] == -1) continue;
            for (int k = 1; k &lt;= cnt; k++) {
                if (!f[i][j][k]) continue;
                if (a[i + 1][j] != -1 &amp;&amp; i &lt; n) {
                    int x = gcd(K, 1ll * fac[k] * a[i + 1][j]);
                    f[i + 1][j][num[x]] = (f[i + 1][j][num[x]] + f[i][j][k]);
                    if (f[i + 1][j][num[x]] &gt;= mod) f[i + 1][j][num[x]] -= mod;
                }
                if (a[i][j + 1] != -1 &amp;&amp; j &lt; n) {
                    int x = gcd(K, 1ll * fac[k] * a[i][j + 1]);
                    f[i][j + 1][num[x]] = (f[i][j + 1][num[x]] + f[i][j][k]);
                    if (f[i][j + 1][num[x]] &gt;= mod) f[i][j + 1][num[x]] -= mod;
                }
            }
        }
    }
    cout &lt;&lt; f[n][n][cnt] &lt;&lt; &#39;\n&#39;; 
    return 0;
}
</code></pre><h3 id="redistributing-giftsæ´›è°·-p8189">Redistributing Giftsï¼ˆæ´›è°· P8189ï¼‰<a hidden class="anchor" aria-hidden="true" href="#redistributing-giftsæ´›è°·-p8189">#</a></h3>
<p>ä»£ç ï¼š</p>
<pre tabindex="0"><code>//é’Ÿè·ºå¸‡DP 
#include &lt;bits/stdc++.h&gt;
using namespace std;
namespace IO{
	template &lt;typename T&gt; inline void write(T x) {
	    if(x &lt; 0)
	        putchar(&#39;-&#39;) , x = - x;
	    if(x == 0) {
	        putchar(&#39;0&#39;) ;
	        return ;
	    }
	    if(x &gt; 9) write(x / 10);
	    putchar(x % 10 + &#39;0&#39;);  //ç€›æ¥ƒîƒæˆæ¿åš­ 
	    return ;
	}
	template &lt;typename T&gt; inline void read(T &amp;x) {
	    x = 0; int w = 1; char ch = getchar();
	    while (!isdigit(ch)) { if (ch == &#39;-&#39;) w = -1; ch = getchar(); }
	    while (isdigit(ch)) x = (x &lt;&lt; 1) + (x &lt;&lt; 3) + (ch ^ 48) , ch = getchar();
	    x *= w;
	    return ;
	}
}
#define writeln(x) write(x) , putchar(&#39;\n&#39;)
#define writesp(x) write(x) , putchar(&#39; &#39;)
using namespace IO;
#define For(i, j, k) for(int i = (j); i &lt;= (k); ++i)
#define Dec(i, j, k) for(int i = (j); i &gt;= (k); --i)
#define mp make_pair
#define pii pair&lt;int, int&gt; 
#define ppi pair&lt;pii, int&gt;
#define ckmax(a, b) ((a) = max((a), (b)))
#define ckmin(a, b) ((a) = min((a), (b)))
#define pb emplace_back   //å§£æ”‘ush_backè¹‡î‚¤å£é”›å±½å§›é‘³æˆ’ç«´é•™å‡¤çº´æ´æ›çœ°ç€¹ç‚µå¹‡ç»‹å¶†æ¹é–å“„åŸ† 
#define inf 0x3f3f3f3f
#define fi first
#define se second
#define N 20
#define ll long long

ll dp[1 &lt;&lt; N][N];
ll ans[1 &lt;&lt; N];
char op[N];
int n, x, g[N];
int main() {
	freopen(&#34;gifts.in&#34;, &#34;r&#34;, stdin);
    freopen(&#34;gifts.out&#34;, &#34;w&#34;, stdout);
	read(n);
	For(i, 0, n - 1) { //å§¹ä¿«[i] 
		bool flag = true;
		For(j, 0, n - 1) {
			read(x); --x;
			if (!flag) continue;
			g[i] ^= (1 &lt;&lt; x);// ç€›æ¡¦åé•“â‚¬é“¾å¤Šã‚¶é—æ²¬é‘³èŠ¥æ•¹ğ«”„æ‰®æ®‘ç»€è‚©å¢¿x
			if (x == i) flag = false;	
		}
	}
	ans[0] = 1;
	for (int k = 0; k &lt; n; ++k) dp[1&lt;&lt;k][k] = 1;
	For(i, 0, n - 1) {
		For(mask, 1 &lt;&lt; i, (1 &lt;&lt; (i + 1)) - 1) {
			For(last, 0, i)  {
				if (!(mask &amp; (1 &lt;&lt; last))) // æ©å›¨æŠ¤æ¶“å¶…æ¹ªè¤°æ¿ğ«®ƒæ¿å——æ‚é•„å‹«ã‚¶é—?
					continue;
				ll val = dp[mask][last];
				For(k, 0, i - 1)  
					if (!(mask &amp; (1 &lt;&lt; k)) &amp;&amp; (g[last] &amp; (1 &lt;&lt; k))) // æ¶“å¶…æ¹ªmaskæ¶“î…ç¬–æ¿‚å‰å›lasté™îˆ™äº’é€è·ºåŸŒé•„å‹­ãœé—ï¹Œé”›å²ƒç¹˜ç›å²€å§¸é•ä½½æµ†ç»‰?
						dp[mask^(1&lt;&lt;k)][k] += val;
				if (g[last] &amp; (1 &lt;&lt; i)) // æ¿¡å‚›ç‰æ¿‚å‰å›lasté™îˆ™äº’é€è·ºåŸŒç»€è‚©å¢¿ié”›å±½å¯maské—‚î… å¹†æµœå—â‚¬å‚šåµ†ç»€è‚©å¢¿æ¿å”Œaskéœå±½ã‚¶é—æ¶¢æ³¦maské–®è—‰ç¼‘ğ«”„é¢ç®€é–å½’å†
					ans[mask] += val;	
			}
			For(k, i + 1, n - 1)  // ç’ï¼„ç•»ç€¹å®ns[mask] æ—‹å­˜æŸŠæ¥‚æ ‘ç¶…maské•„åˆ£p 
				dp[mask^(1&lt;&lt;k)][k] += ans[mask];
		}
	}
	int q; read(q);
	while (q--) {
		cin &gt;&gt; op;
		int H = 0, G = 0;
		For(i, 0, n - 1)  
			if (op[i] == &#39;H&#39;) H ^= (1 &lt;&lt; i);
			else G ^= (1 &lt;&lt; i);	
		writeln(ans[H] * ans[G]);
	}
	return 0;
}
</code></pre><h3 id="piling-papersæ´›è°·-p9129">Piling Papersï¼ˆæ´›è°· P9129ï¼‰<a hidden class="anchor" aria-hidden="true" href="#piling-papersæ´›è°·-p9129">#</a></h3>
<pre tabindex="0"><code>#include &lt;bits/stdc++.h&gt;
using namespace std;
#define ll long long
#define N 310
#define Q 50010
const int mod = 1e9 + 7;

int n, q;
ll A, B;
int a[N], ans[Q], C[N][N], pow2[N];
int f[N][20][20], g[N][20][20][20];

struct node { int l, r, id; }que[Q];
bool cmp(node a, node b) {
    if (a.l != b.l) return a.l &lt; b.l;
    return a.r &lt; b.r;
}

void solve(ll x, int fh) {
    int p = 1;
    int num[20], cnt = 0; 
    while (x) {
        num[++cnt] = x % 10;
        x /= 10;
    }
    reverse(num + 1, num + cnt + 1);
    for (int lft = 1; lft &lt;= n; lft++) { // ç¼ç†»î…¸æµ ?lft å¯®â‚¬æ¿®å«”æ‚œé™æŠ½â‚¬å¤Œå¢é•„å‹¬æŸŸå¦—å ŸæšŸ
        memset(f, 0, sizeof(f));
        memset(g, 0, sizeof(g));
        for (int rgt = lft; rgt &lt;= n; rgt++) {
            for (int len = 1; len &lt;= cnt; len++) {
                for (int i = 1; i + len - 1 &lt;= cnt; i++) {
                    int j = i + len - 1;//f[rgt][i][j]ç›ã„§ãšé™æ §åŸŒa[rgt](é™îˆ™ç¬‰é™æ µçº§é”›å±¾å«¾é´?x[i]é’¬æ–ºâ‚¬æ’º[j]é•„å‹¬æŸŸå¦—å ŸæšŸé”›å £ç¹–é˜…å¯ˆç‘™å—•è´Ÿæ¶“â‚¬æ¶“î„ç“§ç»—ï¸½æšŸç¼å‹¶çº§éŠ†?
                    (f[rgt][i][j] += f[rgt - 1][i][j]) %= mod;//æ©ğª²”æ§¸æ¶“â‚¬æ¶“î„å°¯é—‚æ‘å§©é•ä½½î‰ğ«”„æçº´é–æ´ªæ£¿[i,j]é™îˆœæ•±[i+1,j]éœğª§€i,j-1]æî„‚Ğ©é’¥å±¾æ½µéŠ†?
                    if (len == 1) { // i == j
                        if (a[rgt] == num[i])  (f[rgt][i][j] += 2) %= mod;// 1 or 2 method 
                    }
                    else { 
                        if (a[rgt] == num[i]) (f[rgt][i][j] += f[rgt - 1][i + 1][j]) %= mod; // é”·çŠ²ğ«®ƒé—±?( 1 method )
                        if (a[rgt] == num[j]) (f[rgt][i][j] += f[rgt - 1][i][j - 1]) %= mod; // é”·çŠ²æ‚—é—±?( 2 method ) 
                    }
                }
            }
        }
        for (int rgt = lft; rgt &lt;= n; rgt++) {
            for (int len = 1; len &lt;= cnt; len++) {
                for (int i = 1; i + len - 1 &lt;= cnt; i++) {
                    int j = i + len - 1;// è¤°æ’´å«¾é‘è™¹îƒ‡kæµ£å¶…çš¬æµœå·Ÿ[k]é•„å‹¬æšŸé”›å±¼ç¬–ç»—ç¸æµ£å´­ç®£é“å´­ç¬Œxæ¶“â‚¬é•Šå¯¸æ®‘éç‰ˆæ¤‚é”›å®¬æ¶”å«”æ‚—é•„å‹¬æšŸé™îˆ™äº’æµ è¯²å½‡éŠ†?
                    for (int k = i; k &lt;= j; k++) { //æµ î˜[rgt][i][k][j]ç›ã„§ãšé™æ §åŸŒa[rgt]é”›å±¾å«¾é‘ç°’[i]ğ«”„çš’[k-1]é”›å²€îƒ‡kæµ£å¶…çš¬æµœå·Ÿ[k]æ¶“æ——îƒ‡k + 1ğ«”„ç™¹æµ£å´­æ¢é•’å¿“å½‡é•„å‹¬æŸŸå¦—å ŸæšŸéŠ†?
                        (g[rgt][i][k][j] += g[rgt - 1][i][k][j]) %= mod;
                        if (i == k) {// é”·çŠ²ğ«®ƒé—±?(1 method, a[rgt]é€æƒ§æ¹ªi)
                            if (a[rgt] &lt; num[i]) { // é–æ´ªæ£¿[k+1,j]é•„å‹¬æšŸæµ å·ƒé•„åˆlft, rgt-1]é–æ´ªæ£¿é˜…å±¼æ¢é•’å¿›â‚¬å¤‹å«¨æ¶“â‚¬æ¶“î†ç²é’–?
                                int tmp = (ll)C[rgt - lft][j - k] * pow2[j - k] % mod;
                                (g[rgt][i][k][j] += tmp) %= mod;
                            }
                        }
                        else {
                            if (a[rgt] == num[i]) 
                                (g[rgt][i][k][j] += g[rgt - 1][i + 1][k][j]) %= mod;
                        }
                        if (k == j) {// é”·çŠ²æ‚—é—±?2 method, a[rgt]é€æƒ§æ¹ªj
                            if (a[rgt] &lt; num[j]) {// all-same way + [a_t as small]
                                int tmp = i == j ? 1 : f[rgt - 1][i][j - 1];
                                (g[rgt][i][k][j] += tmp) %= mod;
                            }
                        }
                        else { 
                            (g[rgt][i][k][j] += g[rgt - 1][i][k][j - 1]) %= mod;
                        }
                    }
                }
            }
        }  
        while (que[p].l == lft &amp;&amp; p &lt;= q) { // çå—˜å¢é“¾å¤î‡—é—‚î†¾î‡ç»¾åŒ¡çº´é•Œå¤Œåå®¸ï¸¾î¬é•£è§„å¸“æ´å¿‹â‚¬å‚šæ‚“æ¶“â‚¬å®¸ï¸¾î¬é•£åœ­æ®‘ç’‡ãˆ¤æ¢¾é™îˆæ¸¶é”…æ°©æ‚“æ¶“â‚¬å¨†?dpéŠ†?
            int i = que[p].r - que[p].l + 1;
            for (int j = 0; j &lt;= cnt - 1; j++) {// é­î… æ®‘
                ll tmp = fh * C[i][j] % mod * pow2[j] % mod;
                tmp = (tmp + mod) % mod;
                (ans[que[p].id] += tmp) %= mod;
            }
            for (int k = 1; k &lt;= cnt; k++) { // ç»›å¤æš±é•„å‹¶çº´çå¿ç°¬xé•„?
                ll tmp = fh * g[que[p].r][1][k][cnt] % mod;
                tmp = (tmp + mod) % mod;
                (ans[que[p].id] += tmp) %= mod;
            }
            ll tmp = fh * f[que[p].r][1][cnt] % mod; // ç»›å¤æš±é•„å‹¶çº´ç»›å¤‰ç°¬xé•„?
            tmp = (tmp + mod) % mod;
            (ans[que[p].id] += tmp) %= mod;
            ++p;
        }
    }
}

signed main() {
    freopen(&#34;sequence.in&#34;, &#34;r&#34;, stdin);
    freopen(&#34;sequence.out&#34;, &#34;w&#34;, stdout);
    ios::sync_with_stdio(false), cin.tie(0), cout.tie(0);
    cin &gt;&gt; n &gt;&gt; A &gt;&gt; B;
    for (int i = 1; i &lt;= n; i++) cin &gt;&gt; a[i];
    cin &gt;&gt; q;
    for (int i = 1; i &lt;= q; i++) {
        cin &gt;&gt; que[i].l &gt;&gt; que[i].r;
        que[i].id = i;
    }
    sort(que + 1, que + q + 1, cmp);
    pow2[0] = 1;
    for (int i = 1; i &lt;= n; i++) pow2[i] = pow2[i - 1] * 2 % mod;
    for (int i = 0; i &lt;= n; i++) {
        for (int j = 0; j &lt;= i; j++) {
            if (j == 0 || j == i || i == 0) {
                C[i][j] = 1;
                continue;
            }
            C[i][j] = (C[i - 1][j - 1] + C[i - 1][j]) % mod;
        }
    }
    solve(B, 1);
    if (A &gt; 1) solve(A - 1, -1);
    for (int i = 1; i &lt;= q; i++) cout &lt;&lt; ans[i] &lt;&lt; &#39;\n&#39;;
    return 0;
}
</code></pre>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/4f6adc86c6/">
    <span class="title">Â« </span>
    <br>
    <span>æ­å»ºè‡ªå·±çš„ä»£ç†æœåŠ¡å™¨</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/ca87829a43/">
    <span class="title"> Â»</span>
    <br>
    <span>é›†è®­ç¬”è®°ï¼šåŠ¨æ€è§„åˆ’ç»å…¸æ¨¡å‹ 1</span>
  </a>
</nav>
<img src="/static/img/signature.png">


  </footer>
</article>
    </main>
    
<footer class="footer">
        <span><a href="https://creativecommons.org/public-domain/cc0/">CC0</a> æˆæƒï¼Œå…è®¸æ‚¨è‡ªç”±ä½¿ç”¨ã€‚</span>
    <br>
    <span><a href="https://icp.gov.moe/?keyword=20252048" target="_blank">èŒICPå¤‡20252048å·</a></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
